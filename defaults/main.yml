---
user: "root"
user_path: "/root"
deploy_name: "mailu"
nginx_subdomain: "mail."
nginx_domain: "{{ domain }}"
nginx_upstream: "https://front"
nginx_conf_dir: "/etc/nginx"
access_group: web
dns_create: false
dns_update: false

create_stack_network: true
stack_network_name: mailu_net
stack_subnet: 10.10.16.0/24
ipv6_enabled: false

mailu_admin: "admin"
mailu_admin_pw: "hsdfuifz4fhsjhj_a"
mailu_version: 1.8
mailu_volume_folder: "{{ user_path }}/mailu"

dir_exists:
  - "{{ mailu_volume_folder }}/"
  - "{{ mailu_volume_folder }}/redis"
  - "{{ mailu_volume_folder }}/certs"
  - "{{ mailu_volume_folder }}/overrides/rspamd"
  - "{{ mailu_volume_folder }}/overrides/postfix"
  - "{{ mailu_volume_folder }}/overrides/dovecot"
  - "{{ mailu_volume_folder }}/overrides/nginx"
  - "{{ mailu_volume_folder }}/data"
  - "{{ mailu_volume_folder }}/dkim"
  - "{{ mailu_volume_folder }}/mail"
  - "{{ mailu_volume_folder }}/mailqueue"
  - "{{ mailu_volume_folder }}/filter"
  - "{{ mailu_volume_folder }}/dav"
  - "{{ mailu_volume_folder }}/webmail"
  - "{{ mailu_volume_folder }}/data/postgres_data"
  - "{{ mailu_volume_folder }}/dav"

#mailu_secret_key: lookup('password', '/dev/null chars=ascii_letters,digits length=16')
mailu_secret_key: "ahgte64hngzthgfd"

###################################
# Database settings
###################################
mailu_db_flavor: postgresql
mailu_postgres_version: 12
mailu_db_name: "mailu"
mailu_db_user: "admin"
mailu_db_pass: "hsdfuifz4fhsjhj_a"
mailu_db_host: "db_mailu"

###################################
# env settings
###################################
# Subnet of the docker network. This should not conflict with any networks to which your system is connected. (Internal and external!)
subnet: 

# Hostnames for this server, separated with comas
hostnames: "mail.{{ domain }}"

# Postmaster local part (will append the main mail domain)
postmaster: "{{ mailu_admin }}"

# Choose how secure connections will behave (value: letsencrypt, cert, notls, mail, mail-letsencrypt)
tls_flavor: cert

# Authentication rate limit (per source IP address)
auth_ratelimit_pm: 600

# Opt-out of statistics, replace with "True" to opt out
disable_statistics: False

###################################
# Optional features
###################################

# Expose the admin interface (value: true, false)
admin_enabled: "true"

# Choose which webmail to run if any (values: roundcube, rainloop, none)
webmail_type: rainloop

# Dav server implementation (value: radicale, none)
webdav_enabled: radicale

# Antivirus solution (value: clamav, none)
antivirus_enabled: clamav

###################################
# Mail settings
###################################

# Message size limit in bytes
# Default: accept messages up to 50MB
# Max attachment size will be 33% smaller
message_size_limit: 50000000

# Networks granted relay permissions
# Use this with care, all hosts in this networks will be able to send mail without authentication!
relaynets: ""

# Will relay all outgoing mails if configured
relayhost: ""

# Fetchmail delay
fetchmail_delay: 600

# Recipient delimiter, character used to delimiter localpart from custom address part
recipient_delimiter: '+'

# DMARC rua and ruf email
dmarc_rua: "{{ mailu_admin }}"
dmarc_ruf: "{{ mailu_admin }}"

# Welcome email, enable and set a topic and body if you wish to send welcome
# emails to all users.
welcome_enable: true
welcome_subject: 'Welcome to your new email account'
welcome_body: 'Welcome to your new email account, if you can read this, then it is configured properly!'

# Maildir Compression
# choose compression-method, default: none (value: bz2, gz)
compression: none
#change compression-level, default: 6 (value: 1-9)
compression_level: 6

# IMAP full-text search is enabled by default. Set the following variable to off in order to disable the feature.
full_text_search: on

###################################
# Web settings
###################################

# Path to redirect / to
webmail_path: "/webmail"

# Path to the admin interface if enabled
admin_path: "/admin"

# Website name
site_name: "{{ domain }}"

# Linked Website URL
website: "https://mail.{{ domain }}"

domain_registration: false

###################################
# Advanced settings
###################################

# Log driver for front service. Possible values:
# json-file (default)
# journald (On systemd platforms, useful for Fail2Ban integration)
# syslog (Non systemd platforms, Fail2Ban integration. Disables `docker-compose log` for front!)
log_driver: 'json-file'

# Docker-compose project name, this will prepended to containers names.
compose_project_name: 'mailu'

# Default password scheme used for newly created accounts and changed passwords
# (value: PBKDF2, BLF-CRYPT, SHA512-CRYPT, SHA256-CRYPT)
password_scheme: 'PBKDF2'

# Header to take the real ip from
real_ip_header: X-Real-IP

# IPs for nginx set_real_ip_from (CIDR list separated by commas)
real_ip_from: ""

# choose wether mailu bounces (no) or rejects (yes) mail when recipient is unknown (value: yes, no)
reject_unlisted_recipient: no

# Log level threshold in start.py (value: CRITICAL, ERROR, WARNING, INFO, DEBUG, NOTSET)
log_level: WARNING